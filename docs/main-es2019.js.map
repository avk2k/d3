{"version":3,"sources":["./src/app/monitoring-graph/monitoring-graph.component.ts","./src/app/monitoring-graph/monitoring-graph.component.html","./src/assets/shema.css","./src/app/app.component.css","./src/environments/environment.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/monitoring-graph/monitoring-graph.component.css","./src/app/app-routing.module.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main-es2019.js","sourcesContent":["import { Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport * as d3 from 'd3';\nimport { style } from 'd3';\nimport { ppid } from 'process';\n\n/** Описание линии, которая будет отображаться на графике, \n * как некий порог значений, чтобы визуально понимать переход границы */\nexport interface GraphLimit {\n  /** Название порога */\n  name: string,\n  /** Хначение порога */\n  value: number,\n  /** Цвет, которым будет отображаться линия и график */\n  color: string\n}\n\n/** Данные для рисования */\nexport interface GraphData {\n  /** Время значения */\n  date: Date,\n  /** Значение */\n  value: number\n}\n\n@Component({\n  selector: 'app-monitoring-graph',\n  templateUrl: './monitoring-graph.component.html',\n  styleUrls: ['./monitoring-graph.component.css']\n})\nexport class MonitoringGraphComponent implements OnInit, OnChanges {\n  /** Пороги значений для отображения на графике */\n  @Input()\n  public set limits(limits: GraphLimit[]) {\n    if (!limits) return;\n    // Сортируем лимиты, для удобного дальнейшего использования\n    this._limits = limits.sort((a, b) => a.value > b.value ? -1 : 1);\n  }\n  private _limits: GraphLimit[];\n\n  /** Цвет графика при однотонном рисовании (по умолчанию 'steelblue') */\n  @Input()\n  public graphColor: string | number = 'steelblue';\n\n  /** Значения для рисования графика (внутреннее поле) */\n  private _graphData: GraphData[];\n  /** Значения для рисования графика */\n  @Input()\n  public set graphData(data: GraphData[]) {\n    if (!data) return;\n    this._graphData = data;\n    this.updateGraph();\n  }\n\n  /** Единицы измерения по оси Y */\n  @Input()\n  public yUnits: string;\n\n  /** Показывать или нет пороги значений на графике. По умолчанию true */\n  @Input()\n  public showLimits: boolean = true;\n\n  /** Расцвечивать график по цветам лимитов. По умолчанию true */\n  @Input()\n  public colorizeByLimits: boolean = true;\n\n  /** Ширина графика (без отступов) */\n  private graphWidth: number;\n  /** Высота графика (без отступов) */\n  private graphHeight: number;\n\n\n  constructor() { }\n\n  ngOnInit(): void { }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.colorizeByLimits) {\n      this.setGraphColor();\n    }\n    if (changes.showLimits) {\n      d3.select(\"#limits\").transition().style(\"opacity\", changes.showLimits.currentValue ? 1 : 0);\n    }\n\n  }\n\n  private setGraphColor() {\n    d3.select(\"#graphLine\")\n    .attr('stroke', (d) => this.colorizeByLimits && this._limits?.length > 0 ? 'url(#limitsGradient)' : this.graphColor)\n  }\n\n  /** Обновление графика */\n  private updateGraph() {\n    // Если нет данных, то выходим\n    if (!this._graphData) return;\n    // Определяем размеры графика\n    const margin = { top: 10, right: 30, bottom: 100, left: 30 };\n    this.graphWidth = 600 - margin.left - margin.right;\n    this.graphHeight =\n      600 -\n      margin.top -\n      margin.bottom;\n\n    // Удаляем старый график\n    d3\n      .selectAll('#monitoringGraph>*')\n      .remove();\n\n    // Добавляем основной объект SVG\n    const svg = d3\n      .select('#monitoringGraph')\n      .append('svg')\n      .attr('width', this.graphWidth + margin.left + margin.right)\n      .attr('height', this.graphHeight + margin.top + margin.bottom)\n      .append('g')\n      .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\n    // Определяем параметры обрезки данных при отрисовке\n    // Иначе график уходит за прелы области данных\n    svg\n      .append('defs')\n      .append('clipPath')\n      .attr('id', 'clip')\n      .append('rect')\n      .attr('width', this.graphWidth)\n      .attr('height', this.graphHeight)\n      .attr('x', 0)\n      .attr('y', 0);\n\n    /** Формат времени для России. Нужен для преобразования временных значений */\n    const timeFormat_Russian = d3.timeFormatLocale({\n      dateTime: '%A, %e %B %Y г. %X',\n      date: '%d.%m.%Y',\n      time: '%H:%M:%S',\n      periods: ['AM', 'PM'],\n      days: [\n        'воскресенье',\n        'понедельник',\n        'вторник',\n        'среда',\n        'четверг',\n        'пятница',\n        'суббота'\n      ],\n      shortDays: ['вс', 'пн', 'вт', 'ср', 'чт', 'пт', 'сб'],\n      months: [\n        'января',\n        'февраля',\n        'марта',\n        'апреля',\n        'мая',\n        'июня',\n        'июля',\n        'августа',\n        'сентября',\n        'октября',\n        'ноября',\n        'декабря'\n      ],\n      shortMonths: [\n        'янв',\n        'фев',\n        'мар',\n        'апр',\n        'май',\n        'июн',\n        'июл',\n        'авг',\n        'сен',\n        'окт',\n        'ноя',\n        'дек'\n      ]\n    });\n\n    /** Функция определения цвета по данным на основе лимитов */\n    const color = (d: GraphData) => {\n      if (!d || !this._limits) {\n        return 'black';\n      }\n      let limit = this._limits.find(v => d.value > v.value);\n      if (!limit) {\n        return this._limits?.length > 0 ? 'green' : this.graphColor;\n      }\n      return limit.color;\n    }\n\n    let xScale = d3\n      .scaleTime()\n      .domain(d3.extent(this._graphData, d => d.date))\n      .range([0, this.graphWidth]);\n    const origXScale = xScale.copy();\n\n    /** Формирование оси X\n     * @param scale Функция скалировния dhtvtyb\n     */\n    const xAxis = (scale: d3.ScaleTime<number, number>) =>\n      d3\n        .axisBottom(scale)\n        .tickPadding(0)\n        .tickFormat((d: Date, i) => {\n          if (d.getHours() === 0) {\n            return timeFormat_Russian.format('%d %B %Y')(d);\n          } else {\n            return timeFormat_Russian.format('%H:%M')(d);\n          }\n        });\n\n    /**\n     * Формирование меток на оси X\n     * @param axis ось X\n     */\n    const xLabels = (\n      axis: d3.Selection<SVGElement, unknown, HTMLElement, unknown>\n    ) => {\n      axis\n        .selectAll('text')\n        .style('text-anchor', 'end')\n        .attr('dx', '-.8em')\n        .attr('dy', '.15em')\n        .attr('transform', 'rotate(-45)');\n    };\n\n    const svgXAxis = svg\n      .append('g')\n      .attr('transform', 'translate(0,' + this.graphHeight + ')')\n      .call(xAxis(xScale))\n      .call(xLabels);\n\n    /** Максимальное значение по значениям */\n    const max = d3.max(this._graphData, (d) => d.value);\n\n    // Рисуем ось Y\n    const y = d3\n      .scaleLinear()\n      .domain([0, max])\n      .range([this.graphHeight, 0]);\n    const yAxis = d3\n      .axisLeft(y)\n      .ticks(5);\n    svg.append('g').call(yAxis)\n      .append(\"text\")\n      .attr(\"x\", 10)\n      .attr(\"y\", 10)\n      .attr(\"fill\", \"currentColor\")\n      .attr(\"text-anchor\", \"start\")\n      .text(this.yUnits);\n\n    //#region Рисуем линии лимитов\n    this.drawLimits(svg, y);\n    //#endregion\n\n    if (this._limits) {\n      svg.append(\"linearGradient\")\n        .attr(\"id\", \"limitsGradient\")\n        .attr(\"gradientUnits\", \"userSpaceOnUse\")\n        .attr(\"x1\", 0)\n        .attr(\"y1\", 0)\n        .attr(\"x2\", 0)\n        .attr(\"y2\", this.graphHeight)\n        .selectAll(\"stop\")\n        .data(() => {\n          let res = [];\n          const sorted = [...this._limits];\n          sorted.push({ value: 0, color: 'green', name: '' });\n          for (var i = 0; i < sorted.length - 1; i++) {\n            res.push({ offset: y(sorted[i].value) / this.graphHeight, color: sorted[i].color })\n            res.push({ offset: y(sorted[i].value) / this.graphHeight, color: sorted[i + 1].color })\n          }\n          return res;\n        })\n        .join(\"stop\")\n        .attr(\"offset\", d => d.offset)\n        .attr(\"stop-color\", d => d.color);\n    }\n\n\n    const points = svg\n      .append('path')\n      .datum(this._graphData)\n      .attr(\"id\", \"graphLine\")\n      .attr('clip-path', 'url(#clip)')\n      .attr('fill', 'none')\n      .attr('stroke-width', 1.5)\n      .attr(\n        'd',\n        d3\n          .line<{ date: Date; value: number }>()\n          .x(d => xScale(d.date))\n          .y(d => y(d.value))\n      );\n    this.setGraphColor();\n      \n\n    const callout = (g, value) => {\n      if (!value) return g.style(\"display\", \"none\");\n\n      g\n        .style(\"display\", null)\n        .style(\"pointer-events\", \"none\")\n        .style(\"font\", \"10px sans-serif\");\n\n      const path = g.selectAll(\"path\")\n        .data([null])\n        .join(\"path\")\n        .attr(\"fill\", \"white\")\n        .attr(\"stroke\", \"black\");\n\n      const text = g.selectAll(\"text\")\n        .data([null])\n        .join(\"text\")\n        .call(text => text\n          .selectAll(\"tspan\")\n          .data((value + \"\").split(/\\n/))\n          .join(\"tspan\")\n          .attr(\"x\", 0)\n          .attr(\"y\", (d, i) => `${i * 1.1}em`)\n          .style(\"font-weight\", (_, i) => i ? null : \"bold\")\n          .text(d => d));\n\n      const { x, y, width: w, height: h } = text.node().getBBox();\n\n      text.attr(\"transform\", `translate(${-w / 2},${15 - y})`);\n      path.attr(\"d\", `M${-w / 2 - 10},5H-5l5,-5l5,5H${w / 2 + 10}v${h + 20}h-${w + 20}z`);\n    }\n\n    /** Находим ближайшую точку графика к вертикальной линии\n     * @param mx координата X\n     * @returns Ближайший элемент данных\n     */\n    const bisect = (mx: number) => {\n      const bis = d3.bisector(d => (d as any).date).left;\n      const date = xScale.invert(mx);\n      const index = bis(this._graphData, date, 1);\n      const a = this._graphData[index - 1];\n      const b = this._graphData[index];\n      return b && (date.valueOf() - a.date.valueOf() > b.date.valueOf() - date.valueOf()) ? b : a;\n    }\n\n    /** Рисование перекрестия\n     * @param g Группа, в которую будут добавляться элементы графики\n     * @param data Данные в выбранной точке (где будет перекрестие)\n     */\n    const hover = (g: d3.Selection<SVGElement, unknown, HTMLElement, any>, data: { date: Date, value: number }) => {\n      // Если нет данных, то скрываем группу\n      if (!data) return g.style(\"display\", \"none\");\n\n      const baloonMargin = 5;\n\n      // Показываем группу\n      g\n        .style(\"display\", null)\n\n      // Горизонтальная линия\n      const hoverVLine = g\n        .selectAll(\"#vLine\")\n        .data([null])\n        .join(\"line\")\n        .attr(\"id\", \"vLine\")\n        .attr(\"y2\", this.graphHeight)\n        .attr(\"stroke-width\", \"0.2\")\n        .attr(\"stroke\", \"black\");\n      // Вертикальная линия\n      const hoverHLine = g\n        .selectAll(\"#hLine\")\n        .data([data])\n        .join(\"line\")\n        .attr(\"id\", \"hLine\")\n        .attr(\"x2\", this.graphWidth)\n        .attr(\"stroke-width\", \"0.2\")\n        .attr(\"stroke\", 'black');\n      // Кружок в точке пересечения\n      const hoverCircle = g\n        .selectAll(\"#circle\")\n        .data([data])\n        .join(\"circle\")\n        .attr(\"id\", \"circle\")\n        .attr(\"r\", 3)\n        .attr(\"stroke-width\", 2)\n        .attr(\"stroke\", 'black');\n\n      const baloon = g.selectAll(\"rect\")\n        .data([data])\n        .join(\"rect\")\n        .attr(\"fill\", \"white\")\n        .attr(\"stroke-width\", 1)\n        .attr(\"stroke\", color);\n\n      const value = g\n        .selectAll(\"#value\")\n        .data([null])\n        .join(\"text\")\n        .attr(\"id\", \"value\")\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"alignment-baseline\", \"hanging\")\n        .call(text => text\n          .selectAll(\"tspan\")\n          .data((data.value + \"\").split(/\\n/))\n          .join(\"tspan\")\n          .attr(\"x\", 0)\n          .attr(\"y\", margin.top)\n          .style(\"font-weight\", (_, i) => i ? null : \"bold\")\n          .text(d => `${d} ${this.yUnits}`.trimEnd()));\n\n\n      // Трансформируем все объекты в нужное место\n      hoverVLine.attr('transform', 'translate(' + xScale(data.date) + ',0)');\n      hoverHLine.attr('transform', 'translate(0,' + y(data.value) + ')');\n      hoverCircle.attr(\"transform\", `translate(${xScale(data.date)},${y(data.value)})`)\n      value.attr(\"transform\", `translate(${xScale(data.date)},${baloonMargin})`)\n\n      const rect = (value.node() as SVGGraphicsElement).getBBox({ stroke: false });\n\n\n\n      //baloon.attr(\"d\", `M${-rect.width / 2 - baloonMargin},-${baloonMargin}h${rect.width + baloonMargin*2}v${rect.height + baloonMargin*2}h-${rect.width + baloonMargin*2}z`);\n      baloon\n        .attr(\"x\", -rect.width / 2 - baloonMargin)\n        .attr(\"y\", rect.y - baloonMargin)\n        .attr(\"width\", rect.width + baloonMargin * 2)\n        .attr(\"height\", rect.height + baloonMargin * 2);\n      baloon.attr(\"transform\", `translate(${xScale(data.date)},${baloonMargin})`)\n    }\n    const tooltip = svg.append(\"g\");\n\n    const hoverGroup = svg.append(\"g\");\n\n    // Set the zoom and Pan features: how much you can zoom, on which part, and what to do when there is a zoom\n    const zoom = d3\n      .zoom()\n      .scaleExtent([1, 100])\n      .extent([[0, 0], [this.graphWidth, this.graphHeight]])\n      .on('zoom', (event: any) => {\n        tooltip.call(callout, null)\n        hoverGroup.call(hover, null)\n        // Получаем новый масштаб по оси X\n        xScale = event.transform.rescaleX(origXScale);\n        // Обновляем ось X\n        svgXAxis.call(xAxis(xScale)).call(xLabels);\n        // Обновляем данные в соответсвии с новым масштабом по оси X\n        points.attr(\n          'd',\n          d3\n            .line<{ date: Date; value: number }>()\n            .x(d => xScale(d.date))\n            .y(d => y(d.value))\n        );\n      });\n\n    // This add an invisible rect on top of the chart area. This rect can recover pointer events: necessary to understand when the user zoom\n    const graphArea = svg\n      .append('rect')\n      .attr('width', this.graphWidth)\n      .attr('height', this.graphHeight)\n      .style('fill', 'none')\n      .style('pointer-events', 'all')\n      //.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')\n      .call(zoom);\n\n    graphArea.on(\"touchmove mousemove\", function (event) {\n      const coords = d3.pointer(event, this);\n      const v = bisect(coords[0]);\n      hoverGroup.call(hover, v);\n      /*tooltip\n        .attr(\"transform\", `translate(${xScale(v.date)},${y(v.value)})`)\n        .call(callout, `${v.value}\\n${locale.format('%H:%M, %d %B %Y')(v.date)}`);*/\n    });\n\n    graphArea.on(\"touchend mouseleave\", () => {\n      tooltip.call(callout, null);\n      hoverGroup.call(hover, null);\n    });\n\n  }\n\n\n\n  /** Рисование лимитов на графике\n   * @param svg Главный элемент\n   */\n  private drawLimits(\n    svg: d3.Selection<SVGGElement, unknown, HTMLElement, any>,\n    yScale: d3.ScaleLinear<number, number, never>) {\n    if (!this.showLimits || (!this._limits || this._limits.length === 0)) return;\n    /** Группа с горизонтальными линиями на основе лимитов */\n\n    const lineGroups = svg\n      .selectAll('#limits') // выбираем объекты с идентификатором limits\n      .data([null]) // Это нужно чтобы создать элемент, если его нет\n      .join('g') // создаем элемент\n      .attr('id', 'limits')\n      .selectAll()\n      .data(this._limits)\n      .enter()\n      .append('g')\n      .attr(\"name\", (d) => d.name);;\n\n\n    lineGroups\n      .append('line')\n      .attr('transform', (d) => 'translate(0,' + yScale(d.value) + ')')\n      .style('stroke', (d) => d.color)\n      .style('stroke-width', 2)\n      .attr('x1', 0)\n      .attr('y1', 0)\n      .attr('x2', this.graphWidth)\n      .attr('y2', 0);\n    lineGroups\n      .append('text')\n      .attr('transform', (d) => 'translate(0,' + yScale(d.value) + ')')\n      .attr('y', -4)\n      .attr('x', 10)\n      .attr('text-anchor', 'bottom')\n      .text((d) => d.name);\n  }\n}\n","export default \"<div id=\\\"monitoringGraph\\\"></div>\\n\";","export default \"@charset \\\"UTF-8\\\";\\r\\n.str15 {stroke:red;stroke-width:26.21;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}\\r\\n.str16 {stroke:#2B2A29;stroke-width:19.81;stroke-miterlimit:22.9256;stroke-dasharray:99.044807 99.044807}\\r\\n.str2 {stroke:black;stroke-width:25.61;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}\\r\\n.str10 {stroke:black;stroke-width:0.61;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}\\r\\n.str11 {stroke:black;stroke-width:5.7;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}\\r\\n.str5 {stroke:black;stroke-width:8.54;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}\\r\\n.str4 {stroke:black;stroke-width:34.15;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}\\r\\n.str0 {stroke:black;stroke-width:14.23;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}\\r\\n.str1 {stroke:black;stroke-width:39.85;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}\\r\\n.str13 {stroke:blue;stroke-width:17.08;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}\\r\\n.str7 {stroke:#00B800;stroke-width:17.08;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}\\r\\n.str9 {stroke:aqua;stroke-width:17.08;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}\\r\\n.str12 {stroke:#A953A0;stroke-width:17.08;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}\\r\\n.str8 {stroke:red;stroke-width:17.08;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}\\r\\n.str6 {stroke:fuchsia;stroke-width:17.08;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}\\r\\n.str14 {stroke:yellow;stroke-width:17.08;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}\\r\\n.str3 {stroke:black;stroke-width:17.08;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}\\r\\n.fil8 {fill:none}\\r\\n.fil0 {fill:none;fill-rule:nonzero}\\r\\n.fil2 {fill:black;fill-rule:nonzero}\\r\\n.fil6 {fill:blue;fill-rule:nonzero}\\r\\n.fil4 {fill:#00B800;fill-rule:nonzero}\\r\\n.fil5 {fill:#A953A0;fill-rule:nonzero}\\r\\n.fil7 {fill:red;fill-rule:nonzero}\\r\\n.fil3 {fill:fuchsia;fill-rule:nonzero}\\r\\n.fil1 {fill:black;fill-rule:nonzero}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNoZW1hLmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxnQkFBZ0I7QUFDaEIsUUFBUSxVQUFVLENBQUMsa0JBQWtCLENBQUMsb0JBQW9CLENBQUMscUJBQXFCLENBQUMsb0JBQW9CO0FBQ3JHLFFBQVEsY0FBYyxDQUFDLGtCQUFrQixDQUFDLHlCQUF5QixDQUFDLG9DQUFvQztBQUN4RyxPQUFPLFlBQVksQ0FBQyxrQkFBa0IsQ0FBQyxvQkFBb0IsQ0FBQyxxQkFBcUIsQ0FBQyxvQkFBb0I7QUFDdEcsUUFBUSxZQUFZLENBQUMsaUJBQWlCLENBQUMsb0JBQW9CLENBQUMscUJBQXFCLENBQUMsb0JBQW9CO0FBQ3RHLFFBQVEsWUFBWSxDQUFDLGdCQUFnQixDQUFDLG9CQUFvQixDQUFDLHFCQUFxQixDQUFDLG9CQUFvQjtBQUNyRyxPQUFPLFlBQVksQ0FBQyxpQkFBaUIsQ0FBQyxvQkFBb0IsQ0FBQyxxQkFBcUIsQ0FBQyxvQkFBb0I7QUFDckcsT0FBTyxZQUFZLENBQUMsa0JBQWtCLENBQUMsb0JBQW9CLENBQUMscUJBQXFCLENBQUMsb0JBQW9CO0FBQ3RHLE9BQU8sWUFBWSxDQUFDLGtCQUFrQixDQUFDLG9CQUFvQixDQUFDLHFCQUFxQixDQUFDLG9CQUFvQjtBQUN0RyxPQUFPLFlBQVksQ0FBQyxrQkFBa0IsQ0FBQyxvQkFBb0IsQ0FBQyxxQkFBcUIsQ0FBQyxvQkFBb0I7QUFDdEcsUUFBUSxXQUFXLENBQUMsa0JBQWtCLENBQUMsb0JBQW9CLENBQUMscUJBQXFCLENBQUMsb0JBQW9CO0FBQ3RHLE9BQU8sY0FBYyxDQUFDLGtCQUFrQixDQUFDLG9CQUFvQixDQUFDLHFCQUFxQixDQUFDLG9CQUFvQjtBQUN4RyxPQUFPLFdBQVcsQ0FBQyxrQkFBa0IsQ0FBQyxvQkFBb0IsQ0FBQyxxQkFBcUIsQ0FBQyxvQkFBb0I7QUFDckcsUUFBUSxjQUFjLENBQUMsa0JBQWtCLENBQUMsb0JBQW9CLENBQUMscUJBQXFCLENBQUMsb0JBQW9CO0FBQ3pHLE9BQU8sVUFBVSxDQUFDLGtCQUFrQixDQUFDLG9CQUFvQixDQUFDLHFCQUFxQixDQUFDLG9CQUFvQjtBQUNwRyxPQUFPLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQyxvQkFBb0IsQ0FBQyxxQkFBcUIsQ0FBQyxvQkFBb0I7QUFDeEcsUUFBUSxhQUFhLENBQUMsa0JBQWtCLENBQUMsb0JBQW9CLENBQUMscUJBQXFCLENBQUMsb0JBQW9CO0FBQ3hHLE9BQU8sWUFBWSxDQUFDLGtCQUFrQixDQUFDLG9CQUFvQixDQUFDLHFCQUFxQixDQUFDLG9CQUFvQjtBQUN0RyxPQUFPLFNBQVM7QUFDaEIsT0FBTyxTQUFTLENBQUMsaUJBQWlCO0FBQ2xDLE9BQU8sVUFBVSxDQUFDLGlCQUFpQjtBQUNuQyxPQUFPLFNBQVMsQ0FBQyxpQkFBaUI7QUFDbEMsT0FBTyxZQUFZLENBQUMsaUJBQWlCO0FBQ3JDLE9BQU8sWUFBWSxDQUFDLGlCQUFpQjtBQUNyQyxPQUFPLFFBQVEsQ0FBQyxpQkFBaUI7QUFDakMsT0FBTyxZQUFZLENBQUMsaUJBQWlCO0FBQ3JDLE9BQU8sVUFBVSxDQUFDLGlCQUFpQiIsImZpbGUiOiJzaGVtYS5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAY2hhcnNldCBcIlVURi04XCI7XHJcbi5zdHIxNSB7c3Ryb2tlOnJlZDtzdHJva2Utd2lkdGg6MjYuMjE7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwfVxyXG4uc3RyMTYge3N0cm9rZTojMkIyQTI5O3N0cm9rZS13aWR0aDoxOS44MTtzdHJva2UtbWl0ZXJsaW1pdDoyMi45MjU2O3N0cm9rZS1kYXNoYXJyYXk6OTkuMDQ0ODA3IDk5LjA0NDgwN31cclxuLnN0cjIge3N0cm9rZTpibGFjaztzdHJva2Utd2lkdGg6MjUuNjE7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwfVxyXG4uc3RyMTAge3N0cm9rZTpibGFjaztzdHJva2Utd2lkdGg6MC42MTtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MTB9XHJcbi5zdHIxMSB7c3Ryb2tlOmJsYWNrO3N0cm9rZS13aWR0aDo1Ljc7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwfVxyXG4uc3RyNSB7c3Ryb2tlOmJsYWNrO3N0cm9rZS13aWR0aDo4LjU0O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMH1cclxuLnN0cjQge3N0cm9rZTpibGFjaztzdHJva2Utd2lkdGg6MzQuMTU7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwfVxyXG4uc3RyMCB7c3Ryb2tlOmJsYWNrO3N0cm9rZS13aWR0aDoxNC4yMztzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MTB9XHJcbi5zdHIxIHtzdHJva2U6YmxhY2s7c3Ryb2tlLXdpZHRoOjM5Ljg1O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMH1cclxuLnN0cjEzIHtzdHJva2U6Ymx1ZTtzdHJva2Utd2lkdGg6MTcuMDg7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwfVxyXG4uc3RyNyB7c3Ryb2tlOiMwMEI4MDA7c3Ryb2tlLXdpZHRoOjE3LjA4O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMH1cclxuLnN0cjkge3N0cm9rZTphcXVhO3N0cm9rZS13aWR0aDoxNy4wODtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MTB9XHJcbi5zdHIxMiB7c3Ryb2tlOiNBOTUzQTA7c3Ryb2tlLXdpZHRoOjE3LjA4O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMH1cclxuLnN0cjgge3N0cm9rZTpyZWQ7c3Ryb2tlLXdpZHRoOjE3LjA4O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMH1cclxuLnN0cjYge3N0cm9rZTpmdWNoc2lhO3N0cm9rZS13aWR0aDoxNy4wODtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MTB9XHJcbi5zdHIxNCB7c3Ryb2tlOnllbGxvdztzdHJva2Utd2lkdGg6MTcuMDg7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwfVxyXG4uc3RyMyB7c3Ryb2tlOmJsYWNrO3N0cm9rZS13aWR0aDoxNy4wODtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MTB9XHJcbi5maWw4IHtmaWxsOm5vbmV9XHJcbi5maWwwIHtmaWxsOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm99XHJcbi5maWwyIHtmaWxsOmJsYWNrO2ZpbGwtcnVsZTpub256ZXJvfVxyXG4uZmlsNiB7ZmlsbDpibHVlO2ZpbGwtcnVsZTpub256ZXJvfVxyXG4uZmlsNCB7ZmlsbDojMDBCODAwO2ZpbGwtcnVsZTpub256ZXJvfVxyXG4uZmlsNSB7ZmlsbDojQTk1M0EwO2ZpbGwtcnVsZTpub256ZXJvfVxyXG4uZmlsNyB7ZmlsbDpyZWQ7ZmlsbC1ydWxlOm5vbnplcm99XHJcbi5maWwzIHtmaWxsOmZ1Y2hzaWE7ZmlsbC1ydWxlOm5vbnplcm99XHJcbi5maWwxIHtmaWxsOmJsYWNrO2ZpbGwtcnVsZTpub256ZXJvfVxyXG4iXX0= */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHAuY29tcG9uZW50LmNzcyJ9 */\";","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Component, ElementRef, OnInit } from '@angular/core';\nimport * as d3 from 'd3';\nimport { color, xml } from 'd3';\nimport { Observable } from 'rxjs';\nimport { GraphData, GraphLimit } from './monitoring-graph/monitoring-graph.component';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css', './../assets/shema.css']\n})\nexport class AppComponent implements OnInit {\n  public limits = [{\n    name: \"Херово\",\n    value: 200,\n    color: \"#ffdd00\"\n  },\n  {\n    name: \"Очень херово\",\n    value: 300,\n    color: \"#ff7b00\"\n  }\n    ,\n  {\n    name: \"Писец\",\n    value: 400,\n    color: \"red\"\n  }\n  ];\n\n  public graphData: GraphData[];\n\n  data = [\n    {\n      id: 'shkaf_line',\n      state: 'yellow'\n    },\n    {\n      id: 'АСО-1-3-В_x0028_USB_x0029_',\n      state: 'blue'\n    }\n  ];\n\n  constructor(private el: ElementRef<HTMLElement>) { }\n\n  public colorizeGraph: boolean = true;\n  public colorizeGraphChange(event){\n    this.colorizeGraph = event.target.checked;\n  }\n\n  public showLimits: boolean = true;\n  public showLimitsChange(event){\n    this.showLimits = event.target.checked;\n  }\n\n\n  ngOnInit(): void {\n    // Загружаем данные\n    d3.csv('./assets/sensor.csv', (row, index, columns) => {\n      return {\n        date: d3.timeParse('%d-%m-%Y %H:%M')(row.date),\n        value: Number.parseFloat(row.value)\n      } as GraphData;\n    })\n      .then(data => {\n        this.graphData = data;\n      });\n    const _this = this;\n    /*d3.xml('./assets/shema.svg')\n    .then((t) => {\n      document.body.appendChild(t.documentElement);\n      const svg = d3.select('svg');\n      let elements = svg.selectAll('*')\n        .data(_this.data, function(d: any) {\n           return (d && d.id) || (this as any).id;\n        });\n\n        elements.style('stroke', (d) => {\n          return d.state;\n        });\n      \n      setTimeout(() => {\n        _this.data[0].state = 'green';\n        _this.data[1].state = 'red';\n        elements\n          .style('stroke', (d) => {\n            return d.state;\n          });\n\n          this.blink(elements);\n\n      }, 5000);\n\n    });*/\n\n  }\n\n  blink(selection: d3.Selection<d3.BaseType, any, d3.BaseType, any>): void {\n    selection\n      .transition()\n      .duration(100)\n      .style('stroke', 'red')\n      .style('stroke-width', '100')\n      .delay(900)\n      .transition()\n      .duration(100)\n      .style('stroke', 'black')\n      .style('stroke-width', '10')\n      .delay(900)\n      .on('end', () => {\n        this.blink(selection);\n      });\n    //    ^------^---- calling blink again when the transition ends\n  }\n\n}\n","export default \"<input if=\\\"cbColor\\\" type=\\\"checkbox\\\" [checked]=\\\"this.colorizeGraph\\\" (change)=\\\"this.colorizeGraphChange($event)\\\">\\n<label for=\\\"cbColor\\\">Раскрасить график</label>\\n<input if=\\\"cbLimits\\\" type=\\\"checkbox\\\" [checked]=\\\"this.showLimits\\\" (change)=\\\"this.showLimitsChange($event)\\\">\\n<label for=\\\"cbLimits\\\">Линии лимитов</label>\\n<app-monitoring-graph \\n    [showLimits]=\\\"this.showLimits\\\"\\n    [limits]=\\\"this.limits\\\"\\n    [colorizeByLimits]=\\\"this.colorizeGraph\\\"\\n    [graphData]=\\\"this.graphData\\\"\\n    yUnits=\\\"мг/м3\\\"\\n></app-monitoring-graph>\\n<router-outlet></router-outlet>\\n\";","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { MonitoringGraphComponent } from './monitoring-graph/monitoring-graph.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    MonitoringGraphComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJtb25pdG9yaW5nLWdyYXBoLmNvbXBvbmVudC5jc3MifQ== */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}